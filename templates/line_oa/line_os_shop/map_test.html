<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <title>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏ß‡∏¢‡πÅ‡∏°‡∏û</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        #mapPlaceholder {
            background-image: url('https://img.icons8.com/clouds/500/maps.png');
            background-size: cover;
            background-position: center;
            height: 300px;
            border-radius: 10px;
            cursor: pointer;
            border: 2px dashed #9d4edd;
        }

        .btn-purple {
            background-color: #9d4edd;
            color: white;
        }

        .btn-purple:hover {
            background-color: #7b2cbf;
        }
    </style>
</head>

<body class="bg-light">

    <div class="container py-5">
        <h3 class="text-center mb-4">üìå ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</h3>

        <!-- ‡∏£‡∏π‡∏õ‡πÅ‡∏ó‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà -->
        <div id="mapPlaceholder" class="mb-3 d-flex align-items-center justify-content-center">
            <h5 class="text-white bg-dark bg-opacity-50 p-2 rounded">‡∏Å‡∏î‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</h5>
        </div>

        <!-- ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å -->
        <div class="mb-3">
            <label class="form-label">üìç ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å:</label>
            <input type="text" id="selectedAddress" class="form-control" readonly>
        </div>

        <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏î‡∏π‡πÉ‡∏ô Google Maps -->
        <div class="text-center">
            <a id="openInMaps" class="btn btn-purple" href="#" target="_blank" style="display:none;">
                üîç ‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡∏π‡πÉ‡∏ô Google Maps
            </a>
        </div>
    </div>

    <!-- Google Maps API -->
    <script>
        let geocoder;

        document.addEventListener("DOMContentLoaded", () => {
            geocoder = new google.maps.Geocoder();

            document.getElementById("mapPlaceholder").addEventListener("click", () => {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition((position) => {
                        const lat = position.coords.latitude;
                        const lng = position.coords.longitude;

                        const latlng = { lat, lng };

                        geocoder.geocode({ location: latlng }, (results, status) => {
                            if (status === "OK" && results[0]) {
                                const address = results[0].formatted_address;

                                document.getElementById("selectedAddress").value = address;

                                // ‡πÄ‡∏õ‡∏¥‡∏î‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏î‡∏π‡πÉ‡∏ô Google Maps ‡πÑ‡∏î‡πâ
                                const mapsUrl = `https://www.google.com/maps?q=${lat},${lng}`;
                                const link = document.getElementById("openInMaps");
                                link.href = mapsUrl;
                                link.style.display = "inline-block";
                            } else {
                                alert("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏î‡πâ");
                            }
                        });
                    }, () => {
                        alert("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ");
                    });
                } else {
                    alert("‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á");
                }
            });
        });
    </script>

    <!-- ‡πÉ‡∏™‡πà API KEY ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á -->
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBH2TwvYqjeUu0XZL63nT-FOETUYMwnAkM&libraries=places">
        </script>
</body>

</html>